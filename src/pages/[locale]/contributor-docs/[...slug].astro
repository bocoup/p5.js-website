---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import {
  convertContributorDocIndexSlugIfNeeded,
  getCollectionInNonDefaultLocales,
  removeLocalePrefixfromSlug,
} from "../../utils";

export async function getStaticPaths() {
  const pastEvents = await getCollectionInNonDefaultLocales("contributor-docs");
  return pastEvents.map((entry) => {
    const [locale, slug] = removeLocalePrefixfromSlug(entry.id);
    const maybeIndexslug = convertContributorDocIndexSlugIfNeeded(slug);
    return {
      params: { locale, slug: maybeIndexslug },
      props: { entry },
    };
  });
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<BaseLayout title="Placeholder title">
  <Content />
</BaseLayout>
